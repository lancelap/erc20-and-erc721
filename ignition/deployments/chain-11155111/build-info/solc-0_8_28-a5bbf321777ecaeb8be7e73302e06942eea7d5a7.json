{
  "_format": "hh3-sol-build-info-1",
  "id": "solc-0_8_28-a5bbf321777ecaeb8be7e73302e06942eea7d5a7",
  "solcVersion": "0.8.28",
  "solcLongVersion": "0.8.28+commit.7893614a",
  "userSourceNameMap": {
    "contracts/erc721/MyNFTERC721.sol": "project/contracts/erc721/MyNFTERC721.sol"
  },
  "input": {
    "language": "Solidity",
    "settings": {
      "evmVersion": "cancun",
      "optimizer": {
        "enabled": true,
        "runs": 200
      },
      "outputSelection": {
        "*": {
          "": [
            "ast"
          ],
          "*": [
            "abi",
            "evm.bytecode",
            "evm.deployedBytecode",
            "evm.methodIdentifiers",
            "metadata"
          ]
        }
      },
      "remappings": []
    },
    "sources": {
      "project/contracts/erc721/IERC721.sol": {
        "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.28;\n\ninterface IERC721 {\n    // Events\n    event Transfer(address indexed _from, address indexed _to, uint256 indexed _tokenId);\n    event Approval(address indexed _owner, address indexed _approved, uint256 indexed _tokenId);\n    event ApprovalForAll(address indexed _owner, address indexed _operator, bool _approved);\n\n\n    // Methods\n    function balanceOf(address _owner) external view returns (uint256);\n    function ownerOf(uint256 _tokenId) external view returns (address);\n    function safeTransferFrom(address _from, address _to, uint256 _tokenId, bytes calldata data) external;\n    function safeTransferFrom(address _from, address _to, uint256 _tokenId) external;\n    function transferFrom(address _from, address _to, uint256 _tokenId) external;\n    function approve(address _approved, uint256 _tokenId) external;\n    function setApprovalForAll(address _operator, bool _approved) external;\n    function getApproved(uint256 _tokenId) external view returns (address);\n    function isApprovedForAll(address _owner, address _operator) external view returns (bool);\n}"
      },
      "project/contracts/erc721/IERC721Metadata.sol": {
        "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.28;\n\ninterface IERC721Metadata {\n    function name() external view returns (string memory);\n    function symbol() external view returns (string memory);\n    function tokenURI(uint256 tokenId) external view returns (string memory);\n}"
      },
      "project/contracts/erc721/MyNFTERC721.sol": {
        "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.28;\n\nimport {IERC721Metadata} from \"./IERC721Metadata.sol\";\nimport {IERC721} from \"./IERC721.sol\";\n\nerror OnlyOwner();\n\nerror ERC721InvalidOwner(address owner);\nerror ERC721NonexistentToken(uint256 tokenId);\nerror ERC721MintExistentToken(uint256 tokenId);\nerror ERC721InvalidReceiver(address receiver);\nerror ERC721NotApprovedOrOwner(address sender, uint256 tokenId);\nerror ERC721OperatorIsOwner(address operator);\n\ninterface IERC165 {\n    function supportsInterface(bytes4 interfaceID) external view returns (bool);\n}\n\ncontract MyNFTERC721 is IERC721, IERC721Metadata, IERC165 {\n    string private _name;\n    string private _symbol;\n    address private immutable _collectionOwner;\n    uint256 public totalSupply;\n\n    modifier onlyOwner() {\n        if (msg.sender != _collectionOwner) revert OnlyOwner();\n        _;\n    }\n\n    constructor(string memory name_, string memory symbol_) {\n        _name = name_;\n        _symbol = symbol_;\n        _collectionOwner = msg.sender;\n    }\n\n    mapping(address owner => uint256) private _balanceOf;\n    mapping(uint256 tokenId => string uri) private _tokenURI;\n    mapping(uint256 tokenId => address owner) private _ownerOf;\n    mapping(uint256 tokenId => address approved) private _tokenApprovals;\n    mapping(address owner => mapping(address operator => bool))\n        private _operatorApprovals;\n\n    function supportsInterface(bytes4 interfaceId) public pure returns (bool) {\n        return\n            interfaceId == 0x01ffc9a7 ||\n            interfaceId == 0x80ac58cd ||\n            interfaceId == 0x5b5e139f;\n    }\n\n    function balanceOf(address owner) public view override returns (uint256) {\n        if (owner == address(0)) revert ERC721InvalidOwner(owner);\n\n        return _balanceOf[owner];\n    }\n\n    function ownerOf(uint256 tokenId) public view override returns (address) {\n        address owner = _ownerOf[tokenId];\n        if (!_exists(tokenId)) revert ERC721NonexistentToken(tokenId);\n\n        return owner;\n    }\n\n    function name() public view virtual override returns (string memory) {\n        return _name;\n    }\n\n    function symbol() public view virtual override returns (string memory) {\n        return _symbol;\n    }\n\n    function collectionOwner() public view virtual returns (address) {\n        return _collectionOwner;\n    }\n\n    function _exists(uint256 tokenId) internal view returns (bool) {\n        return _ownerOf[tokenId] != address(0);\n    }\n\n    function _isApprovedOrOwner(\n        address spender,\n        uint256 tokenId\n    ) internal view returns (bool) {\n        address owner = _ownerOf[tokenId];\n        if (\n            spender == owner ||\n            getApproved(tokenId) == spender ||\n            isApprovedForAll(owner, spender)\n        ) {\n            return true;\n        }\n\n        return false;\n    }\n\n    function _transfer(\n        address from,\n        address to,\n        uint256 tokenId\n    ) internal returns (bool success) {\n        if (!(ownerOf(tokenId) == from)) {\n            revert ERC721InvalidOwner(from);\n        }\n\n        if (to == address(0)) {\n            revert ERC721InvalidReceiver(to);\n        }\n\n        // clear approve\n        _approve(address(0), tokenId);\n        // update balance\n        _balanceOf[from] -= 1;\n        _balanceOf[to] += 1;\n        // update owner\n        _ownerOf[tokenId] = to;\n        // emit event\n        emit Transfer(from, to, tokenId);\n\n        return true;\n    }\n\n    function _mint(address to, uint256 tokenId, string calldata uri) internal {\n        if (to == address(0)) {\n            revert ERC721InvalidReceiver(to);\n        }\n\n        if (_exists(tokenId)) revert ERC721MintExistentToken(tokenId);\n        _ownerOf[tokenId] = to;\n        _balanceOf[to] += 1;\n        totalSupply += 1;\n\n        _tokenURI[tokenId] = uri;\n\n        emit Transfer(address(0), to, tokenId);\n    }\n\n    function mintOwner(\n        address to,\n        uint256 tokenId,\n        string calldata uri\n    ) external onlyOwner {\n        _mint(to, tokenId, uri);\n    }\n\n    function _approve(address to, uint256 tokenId) internal {\n        _tokenApprovals[tokenId] = to;\n        emit Approval(ownerOf(tokenId), to, tokenId);\n    }\n\n    function _isContract(address account) internal view returns (bool) {\n        return account.code.length > 0;\n    }\n\n    function _checkOnERC721Received(\n        address from,\n        address to,\n        uint256 tokenId,\n        bytes memory data\n    ) private returns (bool) {\n        if (!(_isContract(to))) return true;\n        bytes4 selector = bytes4(\n            keccak256(\"onERC721Received(address,address,uint256,bytes)\")\n        );\n        (bool success, bytes memory returnData) = to.call(\n            abi.encodeWithSelector(selector, msg.sender, from, tokenId, data)\n        );\n        if (!success) return false;\n        if (returnData.length < 4) return false;\n        bytes4 returned = abi.decode(returnData, (bytes4));\n        return returned == selector;\n    }\n\n    function _safeTransfer(\n        address from,\n        address to,\n        uint256 tokenId,\n        bytes memory data\n    ) internal {\n        if (!_isApprovedOrOwner(msg.sender, tokenId))\n            revert ERC721NotApprovedOrOwner(msg.sender, tokenId);\n\n        _transfer(from, to, tokenId);\n        require(\n            _checkOnERC721Received(from, to, tokenId, data),\n            \"transfer to non ERC721Receiver\"\n        );\n    }\n\n    function safeTransferFrom(\n        address from,\n        address to,\n        uint256 tokenId\n    ) public override {\n        _safeTransfer(from, to, tokenId, \"\");\n    }\n\n    function safeTransferFrom(\n        address from,\n        address to,\n        uint256 tokenId,\n        bytes calldata data\n    ) public override {\n        _safeTransfer(from, to, tokenId, data);\n    }\n\n    function transferFrom(\n        address from,\n        address to,\n        uint256 tokenId\n    ) external override {\n        if (!(_isApprovedOrOwner(msg.sender, tokenId)))\n            revert ERC721NotApprovedOrOwner(from, tokenId);\n        _transfer(from, to, tokenId);\n    }\n\n    function approve(address to, uint256 tokenId) external override {\n        if (!_exists(tokenId)) revert ERC721NonexistentToken(tokenId);\n\n        address owner = ownerOf(tokenId);\n        if (!(msg.sender == owner || isApprovedForAll(owner, msg.sender))) {\n            revert ERC721InvalidOwner(owner);\n        }\n\n        _approve(to, tokenId); // sets _tokenApprovals[tokenId] and emits Approval(owner, to, tokenId)\n    }\n\n    function setApprovalForAll(\n        address operator,\n        bool approved\n    ) external override {\n        if (operator == msg.sender) revert ERC721OperatorIsOwner(operator);\n\n        _operatorApprovals[msg.sender][operator] = approved;\n        emit ApprovalForAll(msg.sender, operator, approved);\n    }\n\n    function getApproved(\n        uint256 tokenId\n    ) public view override returns (address) {\n        if (!(_exists(tokenId))) {\n            revert ERC721NonexistentToken(tokenId);\n        }\n\n        return _tokenApprovals[tokenId];\n    }\n\n    function isApprovedForAll(\n        address owner,\n        address operator\n    ) public view override returns (bool) {\n        if (_operatorApprovals[owner][operator]) {\n            return true;\n        }\n\n        return false;\n    }\n\n    function tokenURI(\n        uint256 tokenId\n    ) external view override returns (string memory) {\n        if (!_exists(tokenId)) revert ERC721NonexistentToken(tokenId);\n\n        return _tokenURI[tokenId];\n    }\n}\n"
      }
    }
  }
}